(this.webpackJsonpchatboat=this.webpackJsonpchatboat||[]).push([[0],{12:function(e,t,a){e.exports=a(20)},17:function(e,t,a){},19:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(9),l=a.n(o),r=(a(17),a(11)),i=a(7),s=a.n(i),u=a(10),h=a(2),m=a(3),d=a(5),p=a(6),b=(a(19),a(4)),f=a(1),E=function(e){var t=e.questions,a=e.currentQuestion,n=e.handleSubmit,o=e.handleOnChange,l=e.handleAddEditChatOption,r=e.clearForm;return c.a.createElement("form",{onSubmit:function(e){return n(e,!1)}},c.a.createElement("h3",null,"Enter your chat details"),c.a.createElement("div",{className:"input-group"},c.a.createElement("div",{className:"input-group-prepend"},c.a.createElement("label",{className:"input-group-text"},"Chat ID#")),c.a.createElement("input",{type:"text",className:"form-control",value:a.chat_id,onChange:function(e){return o(e,!1)}})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"chatLabel"},"Chat Label"),c.a.createElement("textarea",{type:"text",className:"form-control",id:"chatLabel",name:"chat_label",value:a.chat_label,rows:"3",onChange:function(e){return o(e,!1)}})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"chatDesc"},"Chat Description"),c.a.createElement("textarea",{type:"text",className:"form-control",id:"chatDesc",name:"chat_desc",rows:"4",value:a.chat_desc,onChange:function(e){return o(e,!1)}})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"chatType"},"Chat Type"),c.a.createElement("select",{className:"form-control",id:"chatType",name:"type",value:a.type,onChange:function(e){return o(e,!1)}},c.a.createElement("option",{value:""},"Select Type"),c.a.createElement("option",{value:"q"},"Question"),c.a.createElement("option",{value:"ol"},"Options List"),c.a.createElement("option",{value:"a"},"Answer"),c.a.createElement("option",{value:"c"},"Contact us"),c.a.createElement("option",{value:"i"},"Info Message"))),c.a.createElement("div",{className:"form-group mb3"},c.a.createElement("label",{htmlFor:"replayId"},"Chat Options"),c.a.createElement("button",{type:"button",className:"btn btn-outline-info mb-1 w-100",onClick:function(){return l(a)}},"+ Add Chat Options"),a.chat_options.map((function(e,t){return c.a.createElement("button",{type:"button",className:"btn btn-outline-dark mb-1 w-100",key:"ol_ques_"+t,onClick:function(){return l(e)}},e.chat_label&&c.a.createElement("p",{className:"m-0"},e.chat_label),e.chat_desc&&c.a.createElement("p",{className:"m-0"},c.a.createElement("small",null,e.chat_desc)))}))),"ol"!==a.type?c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"replayId"},"Chat Replay"),c.a.createElement("select",{className:"form-control",id:"replayId",name:"reply_id",onChange:function(e){return o(e,!1)},value:a.reply_id},c.a.createElement("option",{value:""},"Select Chat Replay"),t.map((function(e,t){return c.a.createElement("option",{key:"opt_"+t,value:e.chat_id,disabled:e.reply_id===a.chat_id},e.chat_label)})))):null,c.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit"),c.a.createElement("button",{type:"button",className:"ml-3 btn btn-outline-primary",onClick:r},"Clear Form"))},v=function(e){var t=e.questions,a=e.chatOptionsQuestion,n=e.handleSubmit,o=e.handleOnChange,l=e.currentQuestion,r=e.handleBack;return c.a.createElement("form",{onSubmit:function(e){return n(e,!0)}},c.a.createElement("div",{className:"action-bar d-flex align-items-center mb-3"},c.a.createElement("button",{type:"button",className:"btn btn-outline-dark",onClick:r},"Back"),c.a.createElement("h5",{className:"m-0 ml-2"},"Adding Chat options for Chat ID# ",l.chat_id)),c.a.createElement("div",{className:"input-group"},c.a.createElement("div",{className:"input-group-prepend"},c.a.createElement("label",{className:"input-group-text"},"Chat ID#")),c.a.createElement("input",{type:"text",className:"form-control",value:a.chat_id,onChange:function(e){return o(e,!0)}})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"chatLabel"},"Chat Label"),c.a.createElement("textarea",{type:"text",className:"form-control",id:"chatLabel",name:"chat_label",value:a.chat_label,rows:"3",onChange:function(e){return o(e,!0)}})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"chatDesc"},"Chat Description"),c.a.createElement("textarea",{type:"text",className:"form-control",id:"chatDesc",name:"chat_desc",rows:"4",value:a.chat_desc,onChange:function(e){return o(e,!0)}})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"chatType"},"Chat Type"),c.a.createElement("select",{className:"form-control",id:"chatType",name:"type",value:a.type,onChange:function(e){return o(e,!0)}},c.a.createElement("option",{value:""},"Select Type"),c.a.createElement("option",{value:"q"},"Question"),c.a.createElement("option",{value:"ol"},"Options List"),c.a.createElement("option",{value:"a"},"Answer"),c.a.createElement("option",{value:"c"},"Contact us"),c.a.createElement("option",{value:"i"},"Info Message"))),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"replayId"},"Chat Replay"),c.a.createElement("select",{className:"form-control",id:"replayId",name:"reply_id",onChange:function(e){return o(e,!0)},value:a.reply_id},c.a.createElement("option",{value:""},"Select Chat Replay"),t.map((function(e,t){return c.a.createElement("option",{key:"opt_"+t,value:e.chat_id,disabled:e.reply_id===l.chat_id},e.chat_label)})))),c.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit"))},y=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;Object(h.a)(this,a),n=t.call(this,e);var c=e.questions,o=e.editQuestion,l={chat_id:c&&c.length||0,chat_label:"",chat_desc:"",chat_options:[],type:"",reply_id:""},r=!1;o&&(l.chat_id=o.chat_id,l.chat_label=o.chat_label,l.chat_desc=o.chat_desc,l.chat_options=o.chat_options,l.type=o.type,l.reply_id=o.reply_id,r=!0);var i=Object(f.a)({},l);return n.state={questions:c||[],currentQuestion:l,chatOptionsQuestion:i,ifEditing:r,errors:{}},n}return Object(m.a)(a,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.editQuestion,a=e.questions,n=this.state,c=n.currentQuestion,o=n.questions;t&&c.chat_id!==t.chat_id&&(c.chat_id=t.chat_id,c.chat_label=t.chat_label,c.chat_desc=t.chat_desc,c.chat_options=t.chat_options,c.type=t.type,c.reply_id=t.reply_id||"",this.setState({currentQuestion:c,ifEditing:!0})),o.length!==a.length&&(c.chat_id=a.length,this.setState({questions:a,currentQuestion:c}))}},{key:"handleOnChange",value:function(e,t){var a=this.state[t?"chatOptionsQuestion":"currentQuestion"];a[e.target.name]=e.target.value,this.setState(Object(b.a)({},t?"chatOptionsQuestion":"currentQuestion",a))}},{key:"handleSubmit",value:function(e,t){var a=this;e.preventDefault(),console.log("handlesubmit");var n=this.state,c=n.chatOptionsQuestion,o=n.currentQuestion;if(t){var l=Object(f.a)({},c);l.reply_id=parseInt(l.reply_id);var r=Object(f.a)({},o),i=r.chat_options;i.push(Object(f.a)({},l)),r.chat_options=i,r.type="ol",r.reply_id="",this.setState({currentQuestion:r},(function(){return a.handleBack()}))}else o.chat_label||o.chat_desc?(this.props.saveQuestions(o),this.clearForm(o)):this.showError("Please add chat label or description")}},{key:"showError",value:function(e){var t=this;this.setState({errors:{0:e}},(function(){setTimeout((function(){t.setState({errors:{}})}),5e3)}))}},{key:"clearForm",value:function(){console.log("clearform"),this.props.saveQuestions(null),this.setState({ifEditing:!1,currentQuestion:{chat_id:this.state.questions.length,chat_label:"",chat_desc:"",chat_options:[],type:"",reply_id:""}})}},{key:"handleAddEditChatOption",value:function(e){if(this.state.ifEditing){if(e){var t=this.state.currentQuestion.chat_options.filter((function(t){return t.chat_id===e.chat_id}));if(t.length)this.setState({chatOptionsQuestion:t[0]});else{var a=100*e.chat_id+e.chat_options.length,n=this.state.chatOptionsQuestion;n.chat_id=a,this.setState({chatOptionsQuestion:n})}}}else this.showError("Please save the chat in order to add options into it")}},{key:"handleBack",value:function(){var e=Object(f.a)({},this.state.chatOptionsQuestion);e.chat_desc="",e.chat_id=0,e.chat_label="",e.chat_options=[],e.reply_id="",e.type="",this.setState({chatOptionsQuestion:e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.questions,n=t.currentQuestion,o=t.chatOptionsQuestion,l=t.ifEditing,r=t.errors;return c.a.createElement("div",{className:"sidebar col-12 col-md-6 col-sm-6"},o.chat_id&&l?c.a.createElement(v,{questions:a,currentQuestion:n,chatOptionsQuestion:o,handleOnChange:function(t,a){return e.handleOnChange(t,a)},handleBack:this.handleBack.bind(this),handleSubmit:function(t,a){return e.handleSubmit(t,a)}}):c.a.createElement(E,{clearForm:this.clearForm.bind(this),handleAddEditChatOption:function(t){return e.handleAddEditChatOption(t)},questions:a,currentQuestion:n,handleOnChange:function(t,a){return e.handleOnChange(t,a)},handleSubmit:function(t,a){return e.handleSubmit(t,a)}}),Object.keys(r).length?c.a.createElement("div",{className:"my-3"},c.a.createElement("h5",null,"Errors:"),Object.keys(r).map((function(e){return c.a.createElement("div",{className:"alert alert-danger fade-scale-up",role:"alert",key:"err_"+e},r[e])}))):null)}}]),a}(c.a.Component),_=function(e){var t=e.questions,a=e.setEditQuestion,n=e.downloadJSON;return c.a.createElement("div",{className:"questions col-12 col-md-6 col-sm-6"},c.a.createElement("div",{className:"action-bar d-flex align-items-center justify-content-between mb-3"},c.a.createElement("h5",{className:"m-0 ml-2"},"Chat boat Questions"),c.a.createElement("button",{className:"btn btn-primary",onClick:n},"Download JSON")),t&&t.length&&t.map((function(e,t){return c.a.createElement("div",{className:"card mb-2",key:"ques_"+t,onClick:function(){return a(e)}},c.a.createElement("div",{className:"card-body"},c.a.createElement("h6",{className:"card-text d-flex align-items-center justify-content-between"},c.a.createElement("span",null,"Chat ID# ",c.a.createElement("strong",null,e.chat_id)),e.reply_id&&c.a.createElement("span",null,"Reply Id# ",e.reply_id)),c.a.createElement("h5",{className:"card-title"},e.chat_label),c.a.createElement("p",{className:"card-text"},e.chat_desc)))})))},g=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={questions:[],editQuestion:null},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://beta-tcsworld10k.sportz.io/static-assets/scripts/questions_default.json?v=1588664282512");case 3:return e.next=5,e.sent.json();case 5:t=e.sent,this.setState({questions:t}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"setEditQuestion",value:function(e){e&&this.setState({editQuestion:e})}},{key:"handleSaveQuestion",value:function(e){if(e){var t=this.state.questions,a=[];a=t.filter((function(t){return t.chat_id===e.chat_id})).length?t.map((function(t){return t.chat_id===e.chat_id?e:t})):[].concat(Object(r.a)(t),[e]),this.setState({questions:a,editQuestion:null})}else this.setState({editQuestion:null})}},{key:"downloadJSON",value:function(){!function(e,t){var a=document.createElement("a");a.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),a.setAttribute("download",e),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)}("questions.json",JSON.stringify(this.state.questions))}},{key:"render",value:function(){var e=this.state,t=e.questions,a=e.editQuestion;return c.a.createElement("div",{className:"App container"},c.a.createElement("div",{className:"row"},c.a.createElement(y,{questions:t,editQuestion:a,saveQuestions:this.handleSaveQuestion.bind(this)}),c.a.createElement(_,{downloadJSON:this.downloadJSON.bind(this),questions:t,setEditQuestion:this.setEditQuestion.bind(this)})))}}]),a}(c.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[12,1,2]]]);
//# sourceMappingURL=main.367cc047.chunk.js.map